#!/usr/bin/env sh

#
# Copyright (c) 2022. David W. Streever All Rights Reserved
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#        http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
#

#cd `dirname $0`

APP_DIR=`dirname $0`

PRG_ARGS=
CMD_CP=

if [ -f ./hadoop-cli-full-bin.jar ]; then
    # Look in Current Directory
    CMD_CP=$APP_DIR/hadoop-cli-full-bin.jar
    #echo "Using bin from same directory"
elif [ -f $APP_DIR/../target/hadoop-cli-full-bin.jar ]; then
    # Look in ../target
    CMD_CP=$APP_DIR/../target/hadoop-cli-full-bin.jar
    #echo "Using bin from build directory"
else
    # Look in /usr/local/hadoop-cli/lib
    if [ -f /usr/local/hadoop-cli/lib/hadoop-cli-full-bin.jar ]; then
        CMD_CP=/usr/local/hadoop-cli/lib/hadoop-cli-full-bin.jar
        #echo "Using bin from installation directory"
    else
        #echo "Couldn't locate Hadoop Cli Library"
        exit 1
    fi
fi

AUTO=false

CLI_CMD=""

CLI_CMD="${CLI_CMD}java -cp ${CMD_CP} JCECheck"

eval "${CLI_CMD}"
